<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>The New Civil War – Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Manifest (PWA) -->
  <link rel="manifest" href="manifest.json">

  <!-- Theme hook -->
  <link id="themeStylesheet" rel="stylesheet" href="theme_default.css">

  <!-- Register Service Worker -->
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("service-worker.js");
    }
  </script>

</head>
<body>

  <!-- Loading Scroll Animation -->
  <div id="loading-screen">
    <div class="scroll-container">
      <div class="scroll-paper">
        <p>Unraveling your path...</p>
      </div>
    </div>
  </div>

  <main id="app-content" style="display:none;">

    <!-- ONBOARDING BANNER -->
    <section id="onboardingBanner" class="banner" style="display:none;">
      <p>Welcome. Start by discovering your civic role.</p>
      <a href="role_finder.html" class="menu-btn small">Begin</a>
    </section>

    <!-- INSTALL BANNER -->
    <section id="installBanner" class="banner" style="display:none;">
      <p>Install this app for offline use and faster access.</p>
      <button id="installPWAButton" class="menu-btn small">Install App</button>
    </section>

    <!-- CONTINUE WHERE YOU LEFT OFF -->
    <section id="continueSection" style="text-align:center;">
      <a id="continueBtn" href="#" class="menu-btn" style="display:none;">Continue Where You Left Off</a>
    </section>

    <header>
      <h1>The New Civil War</h1>
      <p class="subtitle">Discover your civic role. Offline. Privately. Completely.</p>
    </header>

    <!-- ROLE PREVIEW -->
    <section class="home-preview">
      <h2>Your Role</h2>
      <p id="homeRolePreview">—</p>
      <a href="profile.html" class="menu-btn small">View Profile</a>
    </section>

    <!-- BADGE STRIP -->
    <section class="home-preview">
      <h2>Your Badges</h2>
      <div id="homeBadgeStrip" class="badge-strip"></div>
      <a href="profile.html#badgeSection" class="menu-btn small">See All</a>
    </section>

    <!-- BEST MILE -->
    <section class="home-preview">
      <h2>Your Best 1‑Mile Time</h2>
      <p id="homeBestTime">—</p>
      <a href="run_tracker.html" class="menu-btn small">Run Again</a>
    </section>

    <!-- PROGRESS OVERVIEW -->
    <section class="home-preview">
      <h2>Your Progress</h2>
      <p><strong>Glossary:</strong> <span id="glossaryProgressIndicator">0 terms viewed</span></p>
      <p><strong>History:</strong> <span id="historyProgressIndicator">0 sections explored</span></p>
      <p><strong>Role Finder:</strong> <span id="roleFinderIndicator">Not started</span></p>
    </section>

    <!-- MAIN MENU -->
    <section class="menu">
      <a href="role_finder.html" class="menu-btn">Find Your Role</a>
      <a href="run_tracker.html" class="menu-btn">1‑Mile Run Tracker</a>
      <a href="tests_home.html" class="menu-btn">Math & Science Trials</a>
      <a href="history.html" class="menu-btn">History & Documentation</a>
      <a href="profile.html" class="menu-btn">My Profile</a>
    </section>

    <!-- THEME SWITCHER -->
    <section class="theme-switcher">
      <h2>Theme</h2>
      <button data-theme="theme_default.css">Civil War Parchment</button>
      <button data-theme="theme_space.css">Black & White Space Glow</button>
    </section>

    <!-- FOOTER -->
    <footer>
      <h3>Support the Project</h3>

      <script 
        src="https://www.paypal.com/sdk/js?client-id=BAATF49HKoRbCK65m7W0bYTarz8r9_JhusqikTQGTGIQ1l6GPuaiCxXx23jXoC2HdQldxmOIz3FydVHHjg&components=hosted-buttons&enable-funding=venmo&currency=USD">
      </script>

      <div id="paypal-container-XL35UHGU5CDMW"></div>

      <script>
        paypal.HostedButtons({
          hostedButtonId: "XL35UHGU5CDMW",
        }).render("#paypal-container-XL35UHGU5CDMW")
      </script>

    </footer>

  </main>

  <!-- JS LOADERS -->
  <script src="storage_manager.js"></script>
  <script src="theme_manager.js"></script>
  <script src="scroll_loader.js"></script>
  <script src="index_boot.js"></script>
  <script src="app_bootstrap.js"></script>

</body>
</html>
